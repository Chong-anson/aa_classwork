<% case type %>
<% when :new %>
  <% action_url = cats_url%>
  <% button_text = "Create Cat" %>
<% when :edit %>
  <% action_url = cat_url(cat) %>
  <% button_text = "Update Cat" %>
<% end %>

<form action="<%= action_url %>" method="POST">
  <% if type == :edit  %>
    <input type="hidden" name="-method" value="PATCH">
  <% end %>    

  <label>Name:
    <input type="text" name="cat[name]" value="<%= cat.name %>">
  </label>
  <br>
  <label>Birth_date:
    <input type="date" name="cat[birth_date]" value="<%= cat.birth_date %>">
  </label>
  <br>
  <label>Color:
  <select name="cat[color]" >
    <option value="" disabled <%=  cat.nil? ? "" : "selected" %>>Select a color</option>
    <option value="white" <%=  cat.color == "white" ? "selected" : ""%>>White</option>
    <option value="black" <%=  cat.color == "black" ? "selected" : ""%>>Black</option>
    <option value="brown" <%=  cat.color == "brown" ? "selected" : ""%>>Brown</option>
  </select>
  </label>
  <br>
  <label>Sex:
    <input type="radio" name="cat[sex]" value="M" <%= "checked" if cat.sex == "M"  %>> M 
    <input type="radio" name="cat[sex]" value="F" <%= "checked" if cat.sex == "F"  %>> F  

  </label>
  <br>
  <label>Description:
    <textarea name="cat[description]" value="<%= cat.description %>"></textarea>
  </label>
  <br>

  <input type="submit" value="<%= button_text %>">
</form>